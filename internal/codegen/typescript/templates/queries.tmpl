// Code generated by db-catalyst. DO NOT EDIT.

import { Pool, QueryResult } from 'pg';
import { {{range $i, $q := .Queries}}{{if $i}}, {{end}}{{$q.ReturnType}}{{end}} } from '../models';

{{range .Queries}}
{{if .Docs}}/**
 * {{.Docs}}
 */
{{end}}
export async function {{.Name}}(
  pool: Pool,
  {{range .Params}}
  {{.Name}}: {{.Type}},
  {{end}}
): Promise<{{if .IsMany}}{{.ReturnType}}[]{{else}}{{.ReturnType}}{{end}}> {
  const result = await pool.query(
    `
{{.SQL}}
    `,
    [{{range .Params}}{{.Name}}, {{end}}]
  );
  {{if .IsMany}}
  return result.rows as {{.ReturnType}}[];
  {{else}}
  return result.rows[0] as {{.ReturnType}};
  {{end}}
}
{{end}}
